(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{509:function(t,e,r){"use strict";var n=r(5),o=r(227).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},525:function(t,e,r){"use strict";r(13),r(3),r(12),r(88),r(38),r(302),r(472),r(76),r(95);var n=r(1);var o,c=r(123);e.a=(o="container",n.a.extend({name:"v-".concat(o),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,e){var r=e.props,data=e.data,n=e.children;data.staticClass="".concat(o," ").concat(data.staticClass||"").trim();var c=data.attrs;if(c){data.attrs={};var l=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));l.length&&(data.staticClass+=" ".concat(l.join(" ")))}return r.id&&(data.domProps=data.domProps||{},data.domProps.id=r.id),t(r.tag,data,n)}})).extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var r,n=e.props,data=e.data,o=e.children,l=data.attrs;return l&&(data.attrs={},r=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),t(n.tag,Object(c.a)(data,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(r||[])}),o)}})},616:function(t,e,r){"use strict";r.r(e);var n=r(463),o=r(208),c=r(63),l=r(454),d=r(468),h=r(528),f=r(525),m=r(453),v=r(179),_=r(609),x=r(504),y=(r(8),r(56),r(149)),w=r(28),P=(r(78),r(3),r(41),r(42),r(509),{name:"GroupsPage",auth:!1,data:function(){return{tags:[],groups:[],all_groups:[],selectedTag:"",search_query:"",search_result_number:0,search_result:!1,tag_selector:!0}},asyncData:function(t){return Object(w.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.error,n=t.$axios,e.next=3,Promise.all([n.get("/tags/"),n.get("/groups/")]).then((function(t){o=t[0].data,c=t[1].data})).catch((function(t){r({statusCode:404,message:t.message})}));case 3:for(l=[],i=0;i<c.length;i++)l.push(n.get("/groups/"+c[i].id+"/tags"));return e.next=7,Promise.all(l).then((function(t){for(var e=0;e<c.length;e++)c[e].tags=t[e].data})).catch((function(t){r({statusCode:404,message:t.message})}));case 7:return c=function(t){for(var e=Object(y.a)(t),r=e.length-1;r>=0;r--){var n=Math.floor(Math.random()*(r+1)),o=e[r];e[r]=e[n],e[n]=o}return e}(c),e.abrupt("return",{tags:o,groups:c,all_groups:c});case 10:case"end":return e.stop()}}),e)})))()},methods:{filterGroups:function(t){var e=this;return!(""!==this.selectedTag&&!t.tags.some((function(i){return i.id===e.selectedTag.id})))},HashColor:function(text){for(var t=["blue-grey","brown","deep-orange","amber","lime","light-green","teal","cyan","light-blue","indigo","pink"],e=0,i=0;i<text.length;i++)e+=text.codePointAt(i);return t[e%=t.length]},SearchGroups:function(input){var t=this;""==input?(this.tag_selector=!0,this.search_result=!1,this.groups=this.all_groups):(this.selectedTag="",this.tag_selector=!1,this.search_query=input,this.search_result=!0,this.$axios.get("/search?q="+input).then((function(e){var r=[];r=e.data;for(var n=[],i=0;i<r.length;i++)n.push(t.$axios.get("/groups/"+r[i].id+"/tags"));Promise.all(n).then((function(e){for(var n=0;n<r.length;n++)r[n].tags=e[n].data;t.groups=r,t.search_result_number=t.groups.length})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)})))}}}),C=r(96),component=Object(C.a)(P,(function(){var t=this,e=t._self._c;return e(n.a,[e(f.a,[e(_.a,{attrs:{justify:"center"}},[e(h.a,{attrs:{cols:"12"}},[e(x.a,{attrs:{solo:"",label:"検索","prepend-inner-icon":"mdi-magnify"},on:{input:function(e){return t.SearchGroups(e)}}}),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.search_result,expression:"search_result"}],staticClass:"ma-0 pa-0 text-caption"},[t._v('"'+t._s(t.search_query)+'"の検索結果('+t._s(t.search_result_number)+"件)")]),t._v(" "),e(d.a,{directives:[{name:"show",rawName:"v-show",value:t.tag_selector,expression:"tag_selector"}],attrs:{"active-class":"primary--text",column:"",mandatory:""}},[e(l.a,{attrs:{filter:""},on:{click:function(e){t.selectedTag=""}}},[t._v("\n              すべて\n            ")]),t._v(" "),t._l(t.tags,(function(r){return e(l.a,{attrs:{filter:""},on:{click:function(e){t.selectedTag=r}}},[t._v("\n              "+t._s(r.tagname)+"\n            ")])}))],2)],1),t._v(" "),e(h.a,{attrs:{cols:"12"}},[e(m.a)],1),t._v(" "),t._l(t.groups,(function(r){return e(h.a,{directives:[{name:"show",rawName:"v-show",value:t.filterGroups(r),expression:"filterGroups(group)"}],staticClass:"my-1",attrs:{cols:"12",md:"4",sm:"6"}},[e(o.a,{staticClass:"d-flex flex-column",attrs:{height:"100%",to:"/groups/"+r.id}},[null!=r.cover_image?e(v.a,{attrs:{maxHeight:"180px",src:"data:image/jpeg;base64,"+r.cover_image}}):null!=r.thumbnail_image?e(v.a,{attrs:{maxHeight:"180px",src:"data:image/jpeg;base64,"+r.thumbnail_image}}):e(v.a,{class:t.HashColor(r.id),attrs:{height:"180px"}}),t._v(" "),e(c.d,[t._v(t._s(r.title)+"/"+t._s(r.groupname))]),t._v(" "),e(c.c,[t._v(t._s(r.description))]),t._v(" "),e(c.a,[e(d.a,{attrs:{column:""}},t._l(r.tags,(function(r){return e(l.a,{attrs:{disabled:""}},[t._v("\n                  "+t._s(r.tagname)+"\n                ")])})),1)],1)],1)],1)}))],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);